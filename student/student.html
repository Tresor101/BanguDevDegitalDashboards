<!DOCTYPE html>
<html lang="en">
<head>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Student Dashboard | College Congo</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="stylesheet" href="../style.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>
  <div class="container py-4">
    <div class="row align-items-center mb-3">
      <div class="col-auto">
        <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="Student Photo of John Doe" class="rounded-circle border border-3" style="width:70px;height:70px;object-fit:cover;">
      </div>
      <div class="col ps-0">
        <h2 class="fw-bold mb-1" style="font-size:1.6rem;">John Doe</h2>
        <div class="text-white-50" style="font-size:1.1rem;">Class: S3 Science</div>
      </div>
    </div>
    <h1 class="mb-2 fw-bold text-white text-shadow">Student Dashboard</h1>
    <div class="row g-3">
      <div class="col-12 col-lg-4 mb-3 mb-lg-0">
        <div class="card dashboard-card text-center p-3 h-100">
          <div class="card-body d-flex flex-column justify-content-center">
            <span class="dashboard-icon"><i class="fas fa-calendar-check"></i></span>
            <h5 class="card-title mb-2">Attendance</h5>
            <p class="card-text mb-1">Days Present: <span class="fw-bold" id="daysPresent">18</span></p>
            <p class="card-text mb-2">Total School Days: <span class="fw-bold" id="totalDays">20</span></p>
            <div class="progress mb-2" style="height: 18px;">
              <div class="progress-bar bg-success" id="attendanceBar" role="progressbar" style="width: 90%;" aria-valuenow="18" aria-valuemin="0" aria-valuemax="20">90%</div>
            </div>
            <small class="text-muted">Your attendance rate this term</small>
            <button class="btn btn-primary mt-2" data-bs-toggle="modal" data-bs-target="#attendanceModal">View Details</button>
          </div>
        </div>
      </div>
      <div class="col-12 col-lg-4 mb-3 mb-lg-0">
        <div class="card dashboard-card text-center p-3 h-100">
          <div class="card-body d-flex flex-column justify-content-center">
            <span class="dashboard-icon"><i class="fas fa-money-bill-wave"></i></span>
            <h5 class="card-title mb-2">School Fees</h5>
            <p class="card-text mb-1">Total Fees: <span class="fw-bold" id="totalFees">$500</span></p>
            <p class="card-text mb-2">Paid: <span class="fw-bold text-success" id="feesPaid">$400</span></p>
            <p class="card-text mb-2">Balance: <span class="fw-bold text-danger" id="feesBalance">$100</span></p>
            <small class="text-muted">Check your payment status</small>
            <button class="btn btn-warning mt-2" data-bs-toggle="modal" data-bs-target="#feesModal">View Details</button>
          </div>
        </div>
      </div>
      <div class="col-12 col-lg-4 mb-3 mb-lg-0">
        <div class="card dashboard-card text-center p-3 h-100">
          <div class="card-body d-flex flex-column justify-content-center">
            <span class="dashboard-icon"><i class="fas fa-percentage"></i></span>
            <h5 class="card-title mb-2">Average Percentage</h5>
            <p class="card-text mb-1">Your Average: <span class="fw-bold" id="avgPercent">82%</span></p>
            <div class="progress mb-2" style="height: 18px;">
              <div class="progress-bar bg-info" id="avgPercentBar" role="progressbar" style="width: 82%;" aria-valuenow="82" aria-valuemin="0" aria-valuemax="100">82%</div>
            </div>
            <small class="text-muted">Academic performance this term</small>
            <button class="btn btn-info mt-2" data-bs-toggle="modal" data-bs-target="#reportCardModal">View Details</button>
          </div>
        </div>
      </div>
      <div class="col-12 mb-3">
        <div class="card dashboard-card text-center p-3">
          <div class="card-body d-flex flex-column justify-content-center">
            <span class="dashboard-icon"><i class="fas fa-chart-line"></i></span>
            <h5 class="card-title mb-2">Performance Trend</h5>
            <canvas id="trendChart" height="120"></canvas>
            <small class="text-muted">Your progress over the year</small>
          </div>
        </div>
      </div>
      <div class="col-12 col-lg-4 mb-3 mb-lg-0">
        <div class="card dashboard-card text-center p-3 h-100">
          <div class="card-body d-flex flex-column justify-content-center">
            <span class="dashboard-icon"><i class="fas fa-book"></i></span>
            <h5 class="card-title mb-2">My Courses</h5>
            <p class="card-text mb-1">View your subjects and teachers</p>
            <button class="btn btn-secondary mt-2" data-bs-toggle="modal" data-bs-target="#coursesModal">View Details</button>
          </div>
        </div>
      </div>
      <div class="col-12 col-lg-4 mb-3 mb-lg-0">
        <div class="card dashboard-card text-center p-3 h-100">
          <div class="card-body d-flex flex-column justify-content-center">
            <span class="dashboard-icon"><i class="fas fa-calendar-alt"></i></span>
            <h5 class="card-title mb-2">Timetable</h5>
            <p class="card-text mb-1">See your class schedule</p>
            <button class="btn btn-outline-primary mt-2" data-bs-toggle="modal" data-bs-target="#timetableModal">View Details</button>
          </div>
        </div>
      </div>
      <div class="col-12 col-lg-4 mb-3 mb-lg-0">
        <div class="card dashboard-card text-center p-3 h-100">
          <div class="card-body d-flex flex-column justify-content-center">
            <span class="dashboard-icon"><i class="fas fa-bell"></i></span>
            <h5 class="card-title mb-2">Notifications</h5>
            <p class="card-text mb-1">Recent Announcements</p>
            <button class="btn btn-secondary mt-2" data-bs-toggle="modal" data-bs-target="#notificationsModal">View Details</button>
          </div>
        </div>
      </div>
      <div class="col-12 col-lg-4 mb-3 mb-lg-0">
        <div class="card dashboard-card text-center p-3 h-100">
          <div class="card-body d-flex flex-column justify-content-center">
            <span class="dashboard-icon"><i class="fas fa-user"></i></span>
            <h5 class="card-title mb-2">Profile</h5>
            <p class="card-text mb-1">View your profile details</p>
            <button class="btn btn-outline-info mt-2" data-bs-toggle="modal" data-bs-target="#profileModal">View Details</button>
          </div>
        </div>
      </div>
      <div class="col-12 col-lg-4 mb-3 mb-lg-0">
        <div class="card dashboard-card text-center p-3 h-100">
          <div class="card-body d-flex flex-column justify-content-center">
            <span class="dashboard-icon"><i class="fas fa-calendar-days"></i></span>
            <h5 class="card-title mb-2">Exam</h5>
            <p class="card-text mb-1">View your exam timetable</p>
            <button class="btn btn-outline-warning mt-2" data-bs-toggle="modal" data-bs-target="#examModal">View Details</button>
          </div>
        </div>
      </div>
      <div class="col-12 col-lg-4 mb-3 mb-lg-0">
        <div class="card dashboard-card text-center p-3 h-100">
          <div class="card-body d-flex flex-column justify-content-center">
            <span class="dashboard-icon"><i class="fas fa-sign-out-alt"></i></span>
            <h5 class="card-title mb-2">Logout</h5>
            <p class="card-text mb-1">Sign out of your account</p>
            <a class="btn btn-outline-danger mt-2" href="../index.html">Logout</a>
          </div>
        </div>
      </div>
    </div>
    <!-- Attendance Modal -->
    <div class="modal fade" id="attendanceModal" tabindex="-1" aria-labelledby="attendanceModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header bg-success text-white">
            <h5 class="modal-title" id="attendanceModalLabel"><i class="fas fa-calendar-check me-2"></i>Attendance Calendar</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="mb-3">
              <strong>Legend:</strong>
              <span class="badge bg-success ms-2">Present</span>
              <span class="badge bg-danger ms-2">Absent</span>
              <span class="badge bg-secondary ms-2">No School</span>
              <span class="badge bg-primary ms-2">Sick/Justified</span>
            </div>
            <div class="table-responsive">
              <table class="table table-bordered mb-0 align-middle text-center" id="attendanceCalendar">
                <thead class="table-light">
                  <tr>
                    <th>Sun</th>
                    <th>Mon</th>
                    <th>Tue</th>
                    <th>Wed</th>
                    <th>Thu</th>
                    <th>Fri</th>
                    <th>Sat</th>
                  </tr>
                </thead>
                <tbody id="attendanceCalendarBody">
                  <!-- Calendar rows will be filled by JS -->
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Fees Modal -->
    <div class="modal fade" id="feesModal" tabindex="-1" aria-labelledby="feesModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header bg-warning text-dark">
            <h5 class="modal-title" id="feesModalLabel"><i class="fas fa-money-bill-wave me-2"></i>School Fees Details</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="mb-3">
              <strong>Payment History:</strong>
              <table class="table table-bordered table-hover align-middle text-center">
                <thead class="table-light">
                  <tr>
                    <th>Date</th>
                    <th>Amount</th>
                    <th>Status</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>2025-01-10</td>
                    <td>$250</td>
                    <td class="text-success">Paid</td>
                  </tr>
                  <tr>
                    <td>2025-02-10</td>
                    <td>$250</td>
                    <td class="text-success">Paid</td>
                  </tr>
                  <tr>
                    <td>2025-03-10</td>
                    <td>$500</td>
                    <td class="text-danger">Pending</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="mb-3">
              <strong>Outstanding Balance:</strong>
              <p class="fw-bold" style="font-size:1.2rem;">$100</p>
            </div>
            <div class="mb-3">
              <strong>Payment Methods:</strong>
              <ul class="list-unstyled">
                <li><i class="fas fa-credit-card me-2"></i> Credit/Debit Card</li>
                <li><i class="fas fa-bank me-2"></i> Bank Transfer</li>
                <li><i class="fas fa-money-bill-wave me-2"></i> Mobile Money</li>
              </ul>
            </div>
            <div class="text-center">
              <button class="btn btn-success" id="payNowBtn"><i class="fas fa-check-circle me-2"></i> Pay Now</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Notifications Modal -->
    <div class="modal fade" id="notificationsModal" tabindex="-1" aria-labelledby="notificationsModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header bg-info text-white">
            <h5 class="modal-title" id="notificationsModalLabel"><i class="fas fa-bullhorn me-2"></i>Recent Announcements</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <ul class="list-unstyled mb-0">
              <li class="mb-3">
                <div class="alert alert-info mb-0 py-2 px-3 d-flex align-items-center">
                  <i class="fas fa-calendar-day me-2"></i>
                  <div>
                    <strong>School Closed Friday:</strong> School will be closed on Friday for a public holiday. Please check your email for more details.
                  </div>
                </div>
              </li>
              <li class="mb-3">
                <div class="alert alert-warning mb-0 py-2 px-3 d-flex align-items-center">
                  <i class="fas fa-exclamation-triangle me-2"></i>
                  <div>
                    <strong>Exam Reminder:</strong> Mid-term exams start next Monday. Review your timetable and prepare accordingly.
                  </div>
                </div>
              </li>
              <li>
                <div class="alert alert-success mb-0 py-2 px-3 d-flex align-items-center">
                  <i class="fas fa-check-circle me-2"></i>
                  <div>
                    <strong>Fees Update:</strong> School fees payment deadline extended to the end of the month.
                  </div>
                </div>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <!-- Courses Modal -->
    <div class="modal fade" id="coursesModal" tabindex="-1" aria-labelledby="coursesModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header bg-secondary text-white">
            <h5 class="modal-title" id="coursesModalLabel"><i class="fas fa-book me-2"></i>My Courses & Teachers</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="table-responsive">
              <table class="table table-bordered align-middle text-center">
                <thead class="table-light">
                  <tr>
                    <th>Subject</th>
                    <th>Teacher</th>
                  </tr>
                </thead>
                <tbody>
                  <tr><td>Math</td><td><img src="https://randomuser.me/api/portraits/men/45.jpg" alt="Photo of Mr. Nsimba" class="rounded-circle me-2" style="width:40px;height:40px;object-fit:cover;">Mr. Nsimba</td></tr>
                  <tr><td>English</td><td><img src="https://randomuser.me/api/portraits/women/65.jpg" alt="Photo of Ms. Smith" class="rounded-circle me-2" style="width:40px;height:40px;object-fit:cover;">Ms. Smith</td></tr>
                  <tr><td>Biology</td><td><img src="https://randomuser.me/api/portraits/men/33.jpg" alt="Photo of Dr. Kabila" class="rounded-circle me-2" style="width:40px;height:40px;object-fit:cover;">Dr. Kabila</td></tr>
                  <tr><td>Chemistry</td><td><img src="https://randomuser.me/api/portraits/women/22.jpg" alt="Photo of Ms. Johnson" class="rounded-circle me-2" style="width:40px;height:40px;object-fit:cover;">Ms. Johnson</td></tr>
                  <tr><td>Physics</td><td><img src="https://randomuser.me/api/portraits/men/77.jpg" alt="Photo of Mr. Mbuyi" class="rounded-circle me-2" style="width:40px;height:40px;object-fit:cover;">Mr. Mbuyi</td></tr>
                  <tr><td>ICT</td><td><img src="https://randomuser.me/api/portraits/women/12.jpg" alt="Photo of Ms. Lee" class="rounded-circle me-2" style="width:40px;height:40px;object-fit:cover;">Ms. Lee</td></tr>
                  <tr><td>History</td><td><img src="https://randomuser.me/api/portraits/men/88.jpg" alt="Photo of Mr. Tshibanda" class="rounded-circle me-2" style="width:40px;height:40px;object-fit:cover;">Mr. Tshibanda</td></tr>
                  <tr><td>Geography</td><td><img src="https://randomuser.me/api/portraits/women/34.jpg" alt="Photo of Ms. Brown" class="rounded-circle me-2" style="width:40px;height:40px;object-fit:cover;">Ms. Brown</td></tr>
                  <tr><td>PE</td><td><img src="https://randomuser.me/api/portraits/men/99.jpg" alt="Photo of Coach Moke" class="rounded-circle me-2" style="width:40px;height:40px;object-fit:cover;">Coach Moke</td></tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Timetable Modal -->
    <div class="modal fade" id="timetableModal" tabindex="-1" aria-labelledby="timetableModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header bg-primary text-white">
            <h5 class="modal-title" id="timetableModalLabel"><i class="fas fa-calendar-alt me-2"></i>Timetable</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="table-responsive">
              <table class="table table-bordered table-hover mb-0 align-middle text-center report-card-table">
                <thead class="table-light">
                  <tr>
                    <th>Day</th>
                    <th>08:00 - 09:00</th>
                    <th>09:00 - 10:00</th>
                    <th>10:00 - 11:00</th>
                    <th>11:00 - 12:00</th>
                    <th>12:00 - 13:00</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>Monday</td>
                    <td>Math</td>
                    <td>English</td>
                    <td>Biology</td>
                    <td>Break</td>
                    <td>History</td>
                  </tr>
                  <tr>
                    <td>Tuesday</td>
                    <td>Physics</td>
                    <td>Chemistry</td>
                    <td>Math</td>
                    <td>Break</td>
                    <td>Geography</td>
                  </tr>
                  <tr>
                    <td>Wednesday</td>
                    <td>English</td>
                    <td>Math</td>
                    <td>ICT</td>
                    <td>Break</td>
                    <td>PE</td>
                  </tr>
                  <tr>
                    <td>Thursday</td>
                    <td>Biology</td>
                    <td>History</td>
                    <td>Math</td>
                    <td>Break</td>
                    <td>English</td>
                  </tr>
                  <tr>
                    <td>Friday</td>
                    <td>Chemistry</td>
                    <td>Math</td>
                    <td>Physics</td>
                    <td>Break</td>
                    <td>ICT</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Report Card Modal -->
    <div class="modal fade" id="reportCardModal" tabindex="-1" aria-labelledby="reportCardModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-xl modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header bg-info text-white">
            <h5 class="modal-title" id="reportCardModalLabel"><i class="fas fa-file-alt me-2"></i>Report Card</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <!-- Legend for Report Card Colors -->
            <div class="mb-2 ps-3 pt-3">
              <strong>Legend:</strong>
              <span class="ms-2"><span class="legend-box" style="display:inline-block;width:18px;height:18px;background:#198754;border-radius:3px;margin-right:4px;vertical-align:middle;"></span>80-100% <span class="text-success">(Green)</span></span>
              <span class="ms-3"><span class="legend-box" style="display:inline-block;width:18px;height:18px;background:#0d6efd;border-radius:3px;margin-right:4px;vertical-align:middle;"></span>60-79% <span class="text-primary">(Blue)</span></span>
              <span class="ms-3"><span class="legend-box" style="display:inline-block;width:18px;height:18px;background:#212529;border-radius:3px;margin-right:4px;vertical-align:middle;"></span>50-59% <span class="text-dark">(Black)</span></span>
              <span class="ms-3"><span class="legend-box" style="display:inline-block;width:18px;height:18px;background:#dc3545;border-radius:3px;margin-right:4px;vertical-align:middle;"></span>Below 50% <span class="text-danger">(Red)</span></span>
            </div>
            <div class="table-responsive">
              <table class="table table-bordered table-hover mb-0 align-middle text-center">
                <thead class="table-light">
                  <tr>
                    <th>Subject</th>
                    <th>Term 1</th>
                    <th>Term 2</th>
                    <th>Exam 1</th>
                    <th>Term 3</th>
                    <th>Term 4</th>
                    <th>Exam 2</th>
                    <th>Total Average</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>Math</td>
                    <td>78</td>
                    <td>85</td>
                    <td>90</td>
                    <td>88</td>
                    <td>92</td>
                    <td>95</td>
                    <td>87</td>
                  </tr>
                  <tr>
                    <td>English</td>
                    <td>82</td>
                    <td>80</td>
                    <td>88</td>
                    <td>85</td>
                    <td>89</td>
                    <td>91</td>
                    <td>88</td>
                  </tr>
                  <tr>
                    <td>Biology</td>
                    <td>75</td>
                    <td>78</td>
                    <td>80</td>
                    <td>77</td>
                    <td>79</td>
                    <td>81</td>
                    <td>78</td>
                  </tr>
                  <tr>
                    <td>Chemistry</td>
                    <td>88</td>
                    <td>90</td>
                    <td>92</td>
                    <td>91</td>
                    <td>94</td>
                    <td>97</td>
                    <td>92</td>
                  </tr>
                  <tr>
                    <td>Physics</td>
                    <td>80</td>
                    <td>85</td>
                    <td>87</td>
                    <td>84</td>
                    <td>88</td>
                    <td>90</td>
                    <td>85</td>
                  </tr>
                  <tr>
                    <td>ICT</td>
                    <td>90</td>
                    <td>92</td>
                    <td>95</td>
                    <td>93</td>
                    <td>97</td>
                    <td>99</td>
                    <td>94</td>
                  </tr>
                  <tr>
                    <td>History</td>
                    <td>70</td>
                    <td>75</td>
                    <td>80</td>
                    <td>78</td>
                    <td>82</td>
                    <td>85</td>
                    <td>78</td>
                  </tr>
                  <tr>
                    <td>Geography</td>
                    <td>85</td>
                    <td>88</td>
                    <td>90</td>
                    <td>89</td>
                    <td>92</td>
                    <td>94</td>
                    <td>89</td>
                  </tr>
                  <tr>
                    <td>PE</td>
                    <td>95</td>
                    <td>90</td>
                    <td>93</td>
                    <td>92</td>
                    <td>96</td>
                    <td>98</td>
                    <td>94</td>
                  </tr>
                </tbody>
                <tfoot>
                  <tr class="table-info">
                    <td><strong>Student Total</strong></td>
                    <td>663</td>
                    <td>678</td>
                    <td>715</td>
                    <td>677</td>
                    <td>709</td>
                    <td>740</td>
                    <td>94</td>
                  </tr>
                  <tr class="table-success">
                    <td><strong>End of Year Total</strong></td>
                    <td colspan="6">4182 / 4500<br><span class="text-success">93%</span></td>
                    <td>93</td>
                  </tr>
                  <tr class="table-secondary">
                    <td><strong>Class Average</strong></td>
                    <td>80</td>
                    <td>82</td>
                    <td>85</td>
                    <td>83</td>
                    <td>86</td>
                    <td>88</td>
                    <td>84</td>
                  </tr>
                </tfoot>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Exam Timetable Modal -->
    <div class="modal fade" id="examModal" tabindex="-1" aria-labelledby="examModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header bg-warning text-dark">
            <h5 class="modal-title" id="examModalLabel"><i class="fas fa-calendar-days me-2"></i>Exam Timetable</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="table-responsive">
              <table class="table table-bordered align-middle text-center">
                <thead class="table-light">
                  <tr>
                    <th>Date</th>
                    <th>Time</th>
                    <th>Subject</th>
                    <th>Room</th>
                  </tr>
                </thead>
                <tbody>
                  <tr><td>2025-12-01</td><td>08:00 - 10:00</td><td>Math</td><td>Room 101</td></tr>
                  <tr><td>2025-12-02</td><td>10:30 - 12:30</td><td>English</td><td>Room 102</td></tr>
                  <tr><td>2025-12-03</td><td>08:00 - 10:00</td><td>Biology</td><td>Room 103</td></tr>
                  <tr><td>2025-12-04</td><td>10:30 - 12:30</td><td>Chemistry</td><td>Room 104</td></tr>
                  <tr><td>2025-12-05</td><td>08:00 - 10:00</td><td>Physics</td><td>Room 105</td></tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Student Profile Modal -->
    <div class="modal fade" id="profileModal" tabindex="-1" aria-labelledby="profileModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header bg-primary text-white">
            <h5 class="modal-title" id="profileModalLabel"><i class="fas fa-user me-2"></i>Student Profile</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="d-flex align-items-center mb-3">
              <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="Student Photo of John Doe" class="rounded-circle border border-3 me-3" style="width:80px;height:80px;object-fit:cover;">
              <div>
                <h4 class="fw-bold mb-1">John Doe</h4>
                <div class="text-muted">Class: S3 Science</div>
                <div class="text-muted">Student ID: 20251234</div>
              </div>
            </div>
            <hr>
            <div class="row mb-2">
              <div class="col-5 fw-semibold">Date of Birth:</div>
              <div class="col-7">2008-05-14</div>
            </div>
            <div class="row mb-2">
              <div class="col-5 fw-semibold">Address:</div>
              <div class="col-7">123 Main St, Kinshasa</div>
            </div>
            <div class="row mb-2">
              <div class="col-5 fw-semibold">Parent/Guardian 1:</div>
              <div class="col-7">Mr. Doe (+243 900 654 321)</div>
            </div>
            <div class="row mb-2">
              <div class="col-5 fw-semibold">Parent/Guardian 2:</div>
              <div class="col-7">Mrs. Doe (+243 900 987 654)</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // Performance Trend Chart
    const ctx = document.getElementById('trendChart');
    if (ctx) {
      new Chart(ctx, {
        type: 'line',
        data: {
          labels: ['Term 1', 'Term 2', 'Exam 1', 'Term 3', 'Term 4', 'Exam 2'],
          datasets: [{
            label: 'Average %',
            data: [78, 82, 85, 83, 86, 88],
            borderColor: '#4a90e2',
            backgroundColor: 'rgba(74,144,226,0.1)',
            fill: true,
            tension: 0.3,
            pointBackgroundColor: '#4a90e2',
            pointRadius: 4
          }]
        },
        options: {
          responsive: true,
          plugins: {
            legend: { display: false }
          },
          scales: {
            y: {
              min: 0,
              max: 100,
              ticks: { stepSize: 10 }
            }
          }
        }
      });
    }
    // Attendance calendar data: 0=No School, 1=Present, 2=Absent, 3=Sick/Justified
    const attendanceData = [
      0,0,0,0,0,1,1, // 1-2: present, rest no school
      1,1,2,1,1,1,1, // 3-9: present/absent
      1,3,1,1,2,1,1, // 10-16: sick/justified, absent
      1,1,1,1,1,1,1, // 17-23: all present
      1,2,1,0,0,0,0  // 24: present, 25: absent, 26: present, 27-30: no school
    ];
    function renderAttendanceCalendar() {
      const tbody = document.getElementById('attendanceCalendarBody');
      tbody.innerHTML = '';
      let day = 0;
      for (let week = 0; week < 5; week++) {
        const tr = document.createElement('tr');
        for (let d = 0; d < 7; d++) {
          const td = document.createElement('td');
          if (week === 0 && d < 5) {
            td.textContent = '';
          } else if (day < attendanceData.length) {
            td.textContent = day + 1;
            switch (attendanceData[day]) {
              case 1: td.className = 'bg-success text-white'; td.title = 'Present'; break;
              case 2: td.className = 'bg-danger text-white'; td.title = 'Absent'; break;
              case 3: td.className = 'bg-primary text-white'; td.title = 'Sick/Justified'; break;
              default: td.className = 'bg-secondary text-white'; td.title = 'No School'; break;
            }
            day++;
          } else {
            td.textContent = '';
          }
          tr.appendChild(td);
        }
        tbody.appendChild(tr);
      }
    }
    // Show calendar when modal opens
    document.addEventListener('shown.bs.modal', function (event) {
      if (event.target.id === 'attendanceModal') {
        renderAttendanceCalendar();
      }
    });
    // Example: dynamically update attendance (replace with real data as needed)
    const daysPresent = 18;
    const totalDays = 20;
    const percent = Math.round((daysPresent / totalDays) * 100);
    document.getElementById('daysPresent').textContent = daysPresent;
    document.getElementById('totalDays').textContent = totalDays;
    document.getElementById('attendanceBar').style.width = percent + '%';
    document.getElementById('attendanceBar').textContent = percent + '%';
    document.getElementById('attendanceBar').setAttribute('aria-valuenow', daysPresent);
    document.getElementById('attendanceBar').setAttribute('aria-valuemax', totalDays);

    // Example: dynamically update school fees (replace with real data as needed)
    const totalFees = 500;
    const feesPaid = 400;
    const feesBalance = totalFees - feesPaid;
    document.getElementById('totalFees').textContent = `$${totalFees}`;
    document.getElementById('feesPaid').textContent = `$${feesPaid}`;
    document.getElementById('feesBalance').textContent = `$${feesBalance}`;

    // Example: dynamically update average percentage (replace with real data as needed)
    const avgPercent = 82;
    document.getElementById('avgPercent').textContent = avgPercent + '%';
    document.getElementById('avgPercentBar').style.width = avgPercent + '%';
    document.getElementById('avgPercentBar').textContent = avgPercent + '%';
    document.getElementById('avgPercentBar').setAttribute('aria-valuenow', avgPercent);

    // Highlight report card scores: < 50% red, >= 50% green
    document.addEventListener('DOMContentLoaded', function() {
      // Find the report card table (the one with 'Subject' as first th)
      const tables = document.querySelectorAll('table');
      let reportTable = null;
      tables.forEach(table => {
        const th = table.querySelector('th');
        if (th && th.textContent.trim() === 'Subject') {
          reportTable = table;
        }
      });
      if (reportTable) {
        // For each row in tbody
        const rows = reportTable.querySelectorAll('tbody tr');
        rows.forEach(row => {
          // For each cell except the first (subject name)
          const cells = row.querySelectorAll('td');
          for (let i = 1; i < cells.length; i++) {
            const cell = cells[i];
            const value = parseFloat(cell.textContent);
            if (!isNaN(value)) {
              cell.classList.remove('text-success', 'text-primary', 'text-dark', 'text-danger', 'fw-bold');
              cell.style.background = '';
              if (value >= 80 && value <= 100) {
                cell.classList.add('text-success', 'fw-bold');
                cell.style.background = '#d1e7dd'; // light green
              } else if (value >= 60 && value < 80) {
                cell.classList.add('text-primary', 'fw-bold');
                cell.style.background = '#cfe2ff'; // light blue
              } else if (value >= 50 && value < 60) {
                cell.classList.add('text-dark', 'fw-bold');
                cell.style.background = '#dee2e6'; // light gray/black
              } else if (value < 50) {
                cell.classList.add('text-danger', 'fw-bold');
                cell.style.background = '#f8d7da'; // light red
              }
            }
          }
        });
      }
    });
  </script>
</body>
</html>
